"use strict";(self.webpackChunkimprovement_solutions=self.webpackChunkimprovement_solutions||[]).push([[606],{1606:(q,m,d)=>{d.r(m),d.d(m,{TipoResidenciaModule:()=>J});var l=d(177),p=d(7681),c=d(4341),n=d(4438),f=d(5312),u=d(1626);let g=(()=>{class e{constructor(t){this.http=t,this.apiUrl=`${f.c.apiUrl}/api/v1/public/residencias`,console.log("URL del servicio de tipo residencia (estandarizada):",this.apiUrl)}getTiposResidencia(){return console.log("Solicitando tipos de residencia desde:",this.apiUrl),this.http.get(this.apiUrl)}getTipoResidencia(t){return this.http.get(`${this.apiUrl}/${t}`)}createTipoResidencia(t){return console.log("Enviando tipo de residencia al backend:",t),console.log("URL de env\xedo:",this.apiUrl),this.http.post(this.apiUrl,t)}updateTipoResidencia(t,o){return this.http.put(`${this.apiUrl}/${t}`,o)}deleteTipoResidencia(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(o){return new(o||e)(n.KVO(u.Qq))}}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const _=e=>["editar",e];function b(e,a){1&e&&(n.j41(0,"div",13),n.nrm(1,"i",14),n.j41(2,"span"),n.EFF(3,"Cargando tipos de residencia..."),n.k0s()())}function C(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",15),n.nrm(1,"i",16),n.j41(2,"span"),n.EFF(3),n.k0s(),n.j41(4,"button",17),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.cargarTiposResidencia())}),n.nrm(5,"i",18),n.EFF(6," Reintentar "),n.k0s()()}if(2&e){const t=n.XpG();n.R7$(3),n.JRh(t.error)}}function M(e,a){if(1&e){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td",4)(8,"div",24)(9,"button",25),n.nrm(10,"i",26),n.k0s(),n.j41(11,"button",27),n.bIt("click",function(){const i=n.eBV(t).$implicit,s=n.XpG(3);return n.Njj(s.eliminarTipoResidencia(i.id))}),n.nrm(12,"i",28),n.k0s()()()()}if(2&e){const t=a.$implicit;n.R7$(2),n.JRh(t.id),n.R7$(2),n.JRh(t.name),n.R7$(2),n.JRh(t.description||"-"),n.R7$(3),n.Y8G("routerLink",n.eq3(4,_,t.id))}}function O(e,a){if(1&e&&(n.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),n.EFF(4,"ID"),n.k0s(),n.j41(5,"th"),n.EFF(6,"Nombre"),n.k0s(),n.j41(7,"th"),n.EFF(8,"Descripci\xf3n"),n.k0s(),n.j41(9,"th",22),n.EFF(10,"Acciones"),n.k0s()()(),n.j41(11,"tbody"),n.DNE(12,M,13,6,"tr",23),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(12),n.Y8G("ngForOf",t.tiposResidencia)}}function P(e,a){1&e&&(n.j41(0,"div",29),n.nrm(1,"i",30),n.j41(2,"p"),n.EFF(3,"No hay tipos de residencia disponibles"),n.k0s(),n.j41(4,"button",7),n.EFF(5,"Crear tipo de residencia"),n.k0s()())}function x(e,a){if(1&e&&(n.j41(0,"div"),n.DNE(1,O,13,1,"table",19)(2,P,6,0,"ng-template",null,0,n.C5r),n.k0s()),2&e){const t=n.sdS(3),o=n.XpG();n.R7$(),n.Y8G("ngIf",o.tiposResidencia.length>0)("ngIfElse",t)}}function v(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",9)(1,"div",10),n.nrm(2,"i",11),n.j41(3,"span"),n.EFF(4),n.k0s()(),n.j41(5,"div",12)(6,"button",13),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.crearNuevo())}),n.nrm(7,"i",14),n.EFF(8," Crear nuevo tipo de residencia "),n.k0s(),n.j41(9,"button",15),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.volverALista())}),n.nrm(10,"i",16),n.EFF(11," Volver a la lista "),n.k0s()()()}if(2&e){const t=n.XpG();n.R7$(4),n.JRh(t.successMessage)}}function R(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"El nombre es obligatorio."),n.k0s())}function F(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"El nombre no puede exceder de 50 caracteres."),n.k0s())}function k(e,a){if(1&e&&(n.j41(0,"div",31),n.DNE(1,R,2,0,"span",30)(2,F,2,0,"span",30),n.k0s()),2&e){let t,o;const i=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(t=i.tipoResidenciaForm.get("name"))||null==t.errors?null:t.errors.required),n.R7$(),n.Y8G("ngIf",null==(o=i.tipoResidenciaForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function T(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),n.k0s())}function y(e,a){if(1&e&&(n.j41(0,"div",31),n.DNE(1,T,2,0,"span",30),n.k0s()),2&e){let t;const o=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(t=o.tipoResidenciaForm.get("description"))||null==t.errors?null:t.errors.maxlength)}}function j(e,a){if(1&e&&(n.j41(0,"div",32),n.nrm(1,"i",33),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(3),n.JRh(t.error)}}function E(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Guardar"),n.k0s())}function G(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Guardando..."),n.k0s())}function I(e,a){if(1&e){const t=n.RV6();n.j41(0,"form",17),n.bIt("ngSubmit",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.onSubmit())}),n.j41(1,"div",18)(2,"label",19),n.EFF(3,"Nombre "),n.j41(4,"span",20),n.EFF(5,"*"),n.k0s()(),n.nrm(6,"input",21),n.DNE(7,k,3,2,"div",22),n.k0s(),n.j41(8,"div",18)(9,"label",23),n.EFF(10,"Descripci\xf3n"),n.k0s(),n.nrm(11,"textarea",24),n.DNE(12,y,2,1,"div",22),n.k0s(),n.DNE(13,j,4,1,"div",25),n.j41(14,"div",26)(15,"button",13),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.cancelar())}),n.nrm(16,"i",27),n.EFF(17," Cancelar "),n.k0s(),n.j41(18,"button",28),n.nrm(19,"i",29),n.DNE(20,E,2,0,"span",30)(21,G,2,0,"span",30),n.k0s()()()}if(2&e){let t,o,i,s;const r=n.XpG();n.Y8G("formGroup",r.tipoResidenciaForm),n.R7$(6),n.AVh("invalid",(null==(t=r.tipoResidenciaForm.get("name"))?null:t.invalid)&&(null==(t=r.tipoResidenciaForm.get("name"))?null:t.touched)),n.R7$(),n.Y8G("ngIf",(null==(o=r.tipoResidenciaForm.get("name"))?null:o.invalid)&&(null==(o=r.tipoResidenciaForm.get("name"))?null:o.touched)),n.R7$(4),n.AVh("invalid",(null==(i=r.tipoResidenciaForm.get("description"))?null:i.invalid)&&(null==(i=r.tipoResidenciaForm.get("description"))?null:i.touched)),n.R7$(),n.Y8G("ngIf",(null==(s=r.tipoResidenciaForm.get("description"))?null:s.invalid)&&(null==(s=r.tipoResidenciaForm.get("description"))?null:s.touched)),n.R7$(),n.Y8G("ngIf",r.error),n.R7$(5),n.Y8G("disabled",r.submitting||r.tipoResidenciaForm.invalid),n.R7$(2),n.Y8G("ngIf",!r.submitting),n.R7$(),n.Y8G("ngIf",r.submitting)}}function $(e,a){1&e&&(n.j41(0,"div",10),n.nrm(1,"i",11),n.j41(2,"span"),n.EFF(3,"Cargando informaci\xf3n..."),n.k0s()())}function w(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",12),n.nrm(1,"i",13),n.j41(2,"span"),n.EFF(3),n.k0s(),n.j41(4,"button",14),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.cargarTipoResidencia())}),n.nrm(5,"i",15),n.EFF(6," Reintentar "),n.k0s()()}if(2&e){const t=n.XpG();n.R7$(3),n.JRh(t.error)}}function X(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"El nombre es obligatorio."),n.k0s())}function Y(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"El nombre no puede exceder de 50 caracteres."),n.k0s())}function L(e,a){if(1&e&&(n.j41(0,"div",30),n.DNE(1,X,2,0,"span",29)(2,Y,2,0,"span",29),n.k0s()),2&e){let t,o;const i=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(t=i.tipoResidenciaForm.get("name"))||null==t.errors?null:t.errors.required),n.R7$(),n.Y8G("ngIf",null==(o=i.tipoResidenciaForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function S(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),n.k0s())}function V(e,a){if(1&e&&(n.j41(0,"div",30),n.DNE(1,S,2,0,"span",29),n.k0s()),2&e){let t;const o=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(t=o.tipoResidenciaForm.get("description"))||null==t.errors?null:t.errors.maxlength)}}function D(e,a){if(1&e&&(n.j41(0,"div",12),n.nrm(1,"i",13),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(3),n.JRh(t.error)}}function z(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Actualizar"),n.k0s())}function U(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Actualizando..."),n.k0s())}function A(e,a){if(1&e){const t=n.RV6();n.j41(0,"form",16),n.bIt("ngSubmit",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.onSubmit())}),n.j41(1,"div",17)(2,"label",18),n.EFF(3,"Nombre "),n.j41(4,"span",19),n.EFF(5,"*"),n.k0s()(),n.nrm(6,"input",20),n.DNE(7,L,3,2,"div",21),n.k0s(),n.j41(8,"div",17)(9,"label",22),n.EFF(10,"Descripci\xf3n"),n.k0s(),n.nrm(11,"textarea",23),n.DNE(12,V,2,1,"div",21),n.k0s(),n.DNE(13,D,4,1,"div",8),n.j41(14,"div",24)(15,"button",25),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.cancelar())}),n.nrm(16,"i",26),n.EFF(17," Cancelar "),n.k0s(),n.j41(18,"button",27),n.nrm(19,"i",28),n.DNE(20,z,2,0,"span",29)(21,U,2,0,"span",29),n.k0s()()()}if(2&e){let t,o,i,s;const r=n.XpG();n.Y8G("formGroup",r.tipoResidenciaForm),n.R7$(6),n.AVh("invalid",(null==(t=r.tipoResidenciaForm.get("name"))?null:t.invalid)&&(null==(t=r.tipoResidenciaForm.get("name"))?null:t.touched)),n.R7$(),n.Y8G("ngIf",(null==(o=r.tipoResidenciaForm.get("name"))?null:o.invalid)&&(null==(o=r.tipoResidenciaForm.get("name"))?null:o.touched)),n.R7$(4),n.AVh("invalid",(null==(i=r.tipoResidenciaForm.get("description"))?null:i.invalid)&&(null==(i=r.tipoResidenciaForm.get("description"))?null:i.touched)),n.R7$(),n.Y8G("ngIf",(null==(s=r.tipoResidenciaForm.get("description"))?null:s.invalid)&&(null==(s=r.tipoResidenciaForm.get("description"))?null:s.touched)),n.R7$(),n.Y8G("ngIf",r.error),n.R7$(5),n.Y8G("disabled",r.submitting||r.tipoResidenciaForm.invalid),n.R7$(2),n.Y8G("ngIf",!r.submitting),n.R7$(),n.Y8G("ngIf",r.submitting)}}const B=[{path:"",component:(()=>{class e{constructor(t){this.tipoResidenciaService=t,this.tiposResidencia=[],this.loading=!1,this.error=null}ngOnInit(){this.cargarTiposResidencia()}cargarTiposResidencia(){this.loading=!0,this.error=null,this.tipoResidenciaService.getTiposResidencia().subscribe({next:t=>{this.tiposResidencia=t,this.loading=!1},error:t=>{console.error("Error al cargar tipos de residencia",t),this.error="No se pudieron cargar los tipos de residencia. Por favor intente nuevamente.",this.loading=!1}})}eliminarTipoResidencia(t){confirm("\xbfEst\xe1 seguro que desea eliminar este tipo de residencia?")&&this.tipoResidenciaService.deleteTipoResidencia(t).subscribe({next:()=>{this.cargarTiposResidencia()},error:o=>{console.error("Error al eliminar tipo de residencia",o),alert("No se pudo eliminar el tipo de residencia. Por favor intente nuevamente.")}})}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(g))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-lista-tipo-residencia"]],decls:18,vars:3,consts:[["noData",""],[1,"tipo-residencia-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion",1,"btn-secondary","mr-2"],[1,"fas","fa-arrow-left"],["routerLink","nuevo",1,"btn-primary"],[1,"fas","fa-plus"],[1,"card"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"error-state"],[1,"fas","fa-exclamation-circle"],[1,"btn-retry",3,"click"],[1,"fas","fa-sync"],["class","data-table",4,"ngIf","ngIfElse"],[1,"data-table"],[1,"th-id"],[1,"th-actions"],[4,"ngFor","ngForOf"],[1,"btn-group"],["title","Editar tipo de residencia",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"fas","fa-edit"],["title","Eliminar tipo de residencia",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],[1,"empty-state"],[1,"fas","fa-home"]],template:function(o,i){1&o&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),n.EFF(4,"Tipos de Residencia"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Administraci\xf3n de tipos de residencia"),n.k0s()(),n.j41(7,"div",4)(8,"button",5),n.nrm(9,"i",6),n.EFF(10," Volver a Configuraci\xf3n "),n.k0s(),n.j41(11,"button",7),n.nrm(12,"i",8),n.EFF(13," Nuevo Tipo de Residencia "),n.k0s()()(),n.j41(14,"div",9),n.DNE(15,b,4,0,"div",10)(16,C,7,1,"div",11)(17,x,4,2,"div",12),n.k0s()()),2&o&&(n.R7$(15),n.Y8G("ngIf",i.loading),n.R7$(),n.Y8G("ngIf",i.error),n.R7$(),n.Y8G("ngIf",!i.loading&&!i.error))},dependencies:[l.Sq,l.bT,p.Wk],styles:[".tipo-residencia-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-right:10px}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:20px;overflow:hidden}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]{color:#3b82f6}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s infinite linear}.error-state[_ngcontent-%COMP%]{color:#ef4444}.error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}.empty-state[_ngcontent-%COMP%]{color:#64748b}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8fafc;font-weight:600;color:#334155}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#f8fafc}.data-table[_ngcontent-%COMP%]   .th-id[_ngcontent-%COMP%]{width:80px}.data-table[_ngcontent-%COMP%]   .th-actions[_ngcontent-%COMP%]{width:120px}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background-color:#3b82f6;color:#fff;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background-color:#ef4444;color:#fff;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer}.btn-retry[_ngcontent-%COMP%]:hover{background-color:#dc2626}.btn-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;border-radius:4px}.btn-group[_ngcontent-%COMP%]{display:inline-flex;gap:5px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#3b82f6;border:1px solid #3b82f6}.btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff}.btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{color:#ef4444;border:1px solid #ef4444}.btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}"]})}}return e})()},{path:"nuevo",component:(()=>{class e{constructor(t,o,i){this.fb=t,this.tipoResidenciaService=o,this.router=i,this.submitting=!1,this.error=null,this.successMessage=null,this.formSubmitted=!1,this.tipoResidenciaForm=this.fb.group({name:["",[c.k0.required,c.k0.maxLength(50)]],description:["",c.k0.maxLength(255)]})}onSubmit(){this.tipoResidenciaForm.invalid?this.tipoResidenciaForm.markAllAsTouched():(this.submitting=!0,this.error=null,this.successMessage=null,this.tipoResidenciaService.createTipoResidencia(this.tipoResidenciaForm.value).subscribe({next:t=>{this.successMessage=`El tipo de residencia "${t.name}" se ha creado correctamente`,this.submitting=!1,this.formSubmitted=!0},error:t=>{console.error("Error al crear tipo de residencia",t),this.error="No se pudo crear el tipo de residencia. Por favor intente nuevamente.",this.submitting=!1}}))}cancelar(){this.router.navigate(["/dashboard/admin/configuracion/tipo-residencia"])}volverALista(){this.router.navigate(["/dashboard/admin/configuracion/tipo-residencia"])}crearNuevo(){this.formSubmitted=!1,this.successMessage=null,this.error=null,this.tipoResidenciaForm.reset()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(c.ok),n.rXU(g),n.rXU(p.Ix))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-nuevo-tipo-residencia"]],decls:14,vars:2,consts:[[1,"tipo-residencia-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/tipo-residencia",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","success-container",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"success-container"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"action-buttons"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn-primary",3,"click"],[1,"fas","fa-list"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del tipo de residencia"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],["class","alert alert-error",4,"ngIf"],[1,"form-actions"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[4,"ngIf"],[1,"error-message"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"]],template:function(o,i){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Nuevo Tipo de Residencia"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Complete el formulario para crear un nuevo tipo de residencia"),n.k0s()(),n.j41(7,"div",3)(8,"button",4),n.nrm(9,"i",5),n.EFF(10," Volver a Lista "),n.k0s()()(),n.j41(11,"div",6),n.DNE(12,v,12,1,"div",7)(13,I,22,11,"form",8),n.k0s()()),2&o&&(n.R7$(12),n.Y8G("ngIf",i.successMessage&&i.formSubmitted),n.R7$(),n.Y8G("ngIf",!i.formSubmitted))},dependencies:[l.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,p.Wk],styles:[".tipo-residencia-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:20px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#334155;font-weight:500;margin-bottom:6px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #cbd5e1;border-radius:4px;font-size:14px;transition:border-color .2s}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#3b82f6;outline:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]{border-color:#ef4444}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:4px}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:30px}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 16px;border-radius:4px;font-weight:500;font-size:14px;display:flex;align-items:center;gap:8px;cursor:pointer;border:none}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#334155}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.success-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-bottom:20px;padding:12px 16px;border-radius:4px;display:flex;align-items:center;gap:8px}.success-container[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857;border:1px solid #a7f3d0}.success-container[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.success-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 16px;border-radius:4px;font-weight:500;font-size:14px;display:flex;align-items:center;gap:8px;cursor:pointer;border:none}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#334155}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;display:flex;align-items:center;gap:8px;margin-bottom:16px}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}"]})}}return e})()},{path:"editar/:id",component:(()=>{class e{constructor(t,o,i,s){this.fb=t,this.tipoResidenciaService=o,this.router=i,this.route=s,this.submitting=!1,this.loading=!0,this.error=null,this.id=+this.route.snapshot.params.id,this.tipoResidenciaForm=this.fb.group({name:["",[c.k0.required,c.k0.maxLength(50)]],description:["",c.k0.maxLength(255)]})}ngOnInit(){this.cargarTipoResidencia()}cargarTipoResidencia(){this.loading=!0,this.error=null,this.tipoResidenciaService.getTipoResidencia(this.id).subscribe({next:t=>{this.tipoResidenciaForm.patchValue({name:t.name,description:t.description}),this.loading=!1},error:t=>{console.error("Error al cargar tipo de residencia",t),this.error="No se pudo cargar el tipo de residencia. Por favor intente nuevamente.",this.loading=!1}})}onSubmit(){if(this.tipoResidenciaForm.invalid)return void this.tipoResidenciaForm.markAllAsTouched();this.submitting=!0,this.error=null;const t={...this.tipoResidenciaForm.value};this.tipoResidenciaService.updateTipoResidencia(this.id,t).subscribe({next:()=>{this.submitting=!1,this.router.navigate(["/dashboard/admin/configuracion/tipo-residencia"])},error:o=>{console.error("Error al actualizar tipo de residencia",o),this.error="No se pudo actualizar el tipo de residencia. Por favor intente nuevamente.",this.submitting=!1}})}cancelar(){this.router.navigate(["/dashboard/admin/configuracion/tipo-residencia"])}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(c.ok),n.rXU(g),n.rXU(p.Ix),n.rXU(p.nX))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-editar-tipo-residencia"]],decls:15,vars:3,consts:[[1,"tipo-residencia-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/tipo-residencia",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","loading-state",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"btn-retry",3,"click"],[1,"fas","fa-sync"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del tipo de residencia"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[4,"ngIf"],[1,"error-message"]],template:function(o,i){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Editar Tipo de Residencia"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Modifique los campos y guarde los cambios"),n.k0s()(),n.j41(7,"div",3)(8,"button",4),n.nrm(9,"i",5),n.EFF(10," Volver a Lista "),n.k0s()()(),n.j41(11,"div",6),n.DNE(12,$,4,0,"div",7)(13,w,7,1,"div",8)(14,A,22,11,"form",9),n.k0s()()),2&o&&(n.R7$(12),n.Y8G("ngIf",i.loading),n.R7$(),n.Y8G("ngIf",i.error&&!i.loading),n.R7$(),n.Y8G("ngIf",!i.loading&&!i.error))},dependencies:[l.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,p.Wk],styles:[".tipo-residencia-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:20px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;color:#3b82f6;margin-bottom:16px;animation:_ngcontent-%COMP%_spin 1s infinite linear}.loading-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#334155;font-weight:500;margin-bottom:6px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #cbd5e1;border-radius:4px;font-size:14px;transition:border-color .2s}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#3b82f6;outline:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]{border-color:#ef4444}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:4px}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:30px}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 16px;border-radius:4px;font-weight:500;font-size:14px;display:flex;align-items:center;gap:8px;cursor:pointer;border:none}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#334155}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;display:flex;align-items:center;gap:8px;margin-bottom:16px}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.btn-retry[_ngcontent-%COMP%]{margin-left:auto;padding:6px 12px;background-color:#ef4444;color:#fff;border:none;border-radius:4px;font-size:12px;display:flex;align-items:center;gap:6px;cursor:pointer}.btn-retry[_ngcontent-%COMP%]:hover{background-color:#dc2626}"]})}}return e})()}];let J=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[l.MD,c.X1,p.iI.forChild(B)]})}}return e})()}}]);