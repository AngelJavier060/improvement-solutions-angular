"use strict";(self.webpackChunkimprovement_solutions=self.webpackChunkimprovement_solutions||[]).push([[627],{1627:(J,u,l)=>{l.r(u),l.d(u,{EstadoCivilModule:()=>B});var p=l(177),d=l(7681),s=l(4341),t=l(4438),m=l(5312),_=l(1626);let g=(()=>{class e{constructor(n){this.http=n,this.apiUrl=`${m.c.apiUrl}/api/v1/public/estado-civil`,console.log("URL del servicio de estado civil (estandarizada):",this.apiUrl)}getEstadosCiviles(){return console.log("Solicitando estados civiles desde:",this.apiUrl),this.http.get(this.apiUrl)}getEstadoCivil(n){return this.http.get(`${this.apiUrl}/${n}`)}createEstadoCivil(n){return console.log("Enviando estado civil al backend:",n),console.log("URL de env\xedo:",this.apiUrl),this.http.post(this.apiUrl,n)}updateEstadoCivil(n,o){return this.http.put(`${this.apiUrl}/${n}`,o)}deleteEstadoCivil(n){return this.http.delete(`${this.apiUrl}/${n}`)}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(_.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function f(e,a){1&e&&(t.j41(0,"div",13)(1,"p"),t.EFF(2,"Cargando estados civiles..."),t.k0s()())}function v(e,a){if(1&e&&(t.j41(0,"div",14),t.nrm(1,"i",15),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&e){const n=t.XpG();t.R7$(3),t.JRh(n.error)}}function C(e,a){if(1&e){const n=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td",4)(8,"div",19)(9,"button",20),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.editarEstadoCivil(i.id))}),t.nrm(10,"i",21),t.k0s(),t.j41(11,"button",22),t.bIt("click",function(){const i=t.eBV(n).$implicit,c=t.XpG(3);return t.Njj(c.eliminarEstadoCivil(i.id))}),t.nrm(12,"i",23),t.k0s()()()()}if(2&e){const n=a.$implicit;t.R7$(2),t.JRh(n.id),t.R7$(2),t.JRh(n.name),t.R7$(2),t.JRh(n.description||"Sin descripci\xf3n")}}function b(e,a){if(1&e&&(t.j41(0,"table",17)(1,"thead")(2,"tr")(3,"th"),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Nombre"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Descripci\xf3n"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Acciones"),t.k0s()()(),t.j41(11,"tbody"),t.DNE(12,C,13,3,"tr",18),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(12),t.Y8G("ngForOf",n.estadosCiviles)}}function h(e,a){if(1&e){const n=t.RV6();t.j41(0,"div",24)(1,"p"),t.EFF(2,"No hay estados civiles registrados actualmente."),t.k0s(),t.j41(3,"button",25),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.nuevoEstadoCivil())}),t.EFF(4,"Crear nuevo estado civil"),t.k0s()()}}function x(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,b,13,1,"table",16)(2,h,5,0,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=t.sdS(3),o=t.XpG();t.R7$(),t.Y8G("ngIf",o.estadosCiviles.length>0)("ngIfElse",n)}}function O(e,a){if(1&e){const n=t.RV6();t.j41(0,"div",9)(1,"div",10),t.nrm(2,"i",11),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"div",12)(6,"button",13),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.crearNuevo())}),t.nrm(7,"i",14),t.EFF(8," Crear nuevo estado civil "),t.k0s(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.volverALista())}),t.nrm(10,"i",16),t.EFF(11," Volver a la lista "),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(4),t.JRh(n.successMessage)}}function P(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"El nombre es obligatorio."),t.k0s())}function E(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"El nombre no puede exceder de 50 caracteres."),t.k0s())}function F(e,a){if(1&e&&(t.j41(0,"div",31),t.DNE(1,P,2,0,"span",30)(2,E,2,0,"span",30),t.k0s()),2&e){let n,o;const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(n=i.estadoCivilForm.get("name"))||null==n.errors?null:n.errors.required),t.R7$(),t.Y8G("ngIf",null==(o=i.estadoCivilForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function k(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),t.k0s())}function j(e,a){if(1&e&&(t.j41(0,"div",31),t.DNE(1,k,2,0,"span",30),t.k0s()),2&e){let n;const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(n=o.estadoCivilForm.get("description"))||null==n.errors?null:n.errors.maxlength)}}function y(e,a){if(1&e&&(t.j41(0,"div",32),t.nrm(1,"i",33),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(3),t.JRh(n.error)}}function I(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"Guardar"),t.k0s())}function G(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"Guardando..."),t.k0s())}function N(e,a){if(1&e){const n=t.RV6();t.j41(0,"form",17),t.bIt("ngSubmit",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.onSubmit())}),t.j41(1,"div",18)(2,"label",19),t.EFF(3,"Nombre "),t.j41(4,"span",20),t.EFF(5,"*"),t.k0s()(),t.nrm(6,"input",21),t.DNE(7,F,3,2,"div",22),t.k0s(),t.j41(8,"div",18)(9,"label",23),t.EFF(10,"Descripci\xf3n"),t.k0s(),t.nrm(11,"textarea",24),t.DNE(12,j,2,1,"div",22),t.k0s(),t.DNE(13,y,4,1,"div",25),t.j41(14,"div",26)(15,"button",13),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.cancelar())}),t.nrm(16,"i",27),t.EFF(17," Cancelar "),t.k0s(),t.j41(18,"button",28),t.nrm(19,"i",29),t.DNE(20,I,2,0,"span",30)(21,G,2,0,"span",30),t.k0s()()()}if(2&e){let n,o,i,c;const r=t.XpG();t.Y8G("formGroup",r.estadoCivilForm),t.R7$(6),t.AVh("invalid",(null==(n=r.estadoCivilForm.get("name"))?null:n.invalid)&&(null==(n=r.estadoCivilForm.get("name"))?null:n.touched)),t.R7$(),t.Y8G("ngIf",(null==(o=r.estadoCivilForm.get("name"))?null:o.invalid)&&(null==(o=r.estadoCivilForm.get("name"))?null:o.touched)),t.R7$(4),t.AVh("invalid",(null==(i=r.estadoCivilForm.get("description"))?null:i.invalid)&&(null==(i=r.estadoCivilForm.get("description"))?null:i.touched)),t.R7$(),t.Y8G("ngIf",(null==(c=r.estadoCivilForm.get("description"))?null:c.invalid)&&(null==(c=r.estadoCivilForm.get("description"))?null:c.touched)),t.R7$(),t.Y8G("ngIf",r.error),t.R7$(5),t.Y8G("disabled",r.submitting||r.estadoCivilForm.invalid),t.R7$(2),t.Y8G("ngIf",!r.submitting),t.R7$(),t.Y8G("ngIf",r.submitting)}}function $(e,a){1&e&&(t.j41(0,"div",9)(1,"p"),t.EFF(2,"Cargando informaci\xf3n del estado civil..."),t.k0s()())}function T(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"El nombre es obligatorio."),t.k0s())}function w(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"El nombre no puede exceder de 50 caracteres."),t.k0s())}function X(e,a){if(1&e&&(t.j41(0,"div",25),t.DNE(1,T,2,0,"span",8)(2,w,2,0,"span",8),t.k0s()),2&e){let n,o;const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(n=i.estadoCivilForm.get("name"))||null==n.errors?null:n.errors.required),t.R7$(),t.Y8G("ngIf",null==(o=i.estadoCivilForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function Y(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),t.k0s())}function L(e,a){if(1&e&&(t.j41(0,"div",25),t.DNE(1,Y,2,0,"span",8),t.k0s()),2&e){let n;const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==(n=o.estadoCivilForm.get("description"))||null==n.errors?null:n.errors.maxlength)}}function S(e,a){if(1&e&&(t.j41(0,"div",26),t.nrm(1,"i",27),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(3),t.JRh(n.error)}}function D(e,a){if(1&e&&(t.j41(0,"div",28),t.nrm(1,"i",29),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(3),t.JRh(n.successMessage)}}function V(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"Guardar"),t.k0s())}function U(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"Guardando..."),t.k0s())}function z(e,a){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"form",10),t.bIt("ngSubmit",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.onSubmit())}),t.j41(2,"div",11)(3,"label",12),t.EFF(4,"Nombre "),t.j41(5,"span",13),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",14),t.DNE(8,X,3,2,"div",15),t.k0s(),t.j41(9,"div",11)(10,"label",16),t.EFF(11,"Descripci\xf3n"),t.k0s(),t.nrm(12,"textarea",17),t.DNE(13,L,2,1,"div",15),t.k0s(),t.DNE(14,S,4,1,"div",18)(15,D,4,1,"div",19),t.j41(16,"div",20)(17,"button",21),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.cancelar())}),t.nrm(18,"i",22),t.EFF(19," Cancelar "),t.k0s(),t.j41(20,"button",23),t.nrm(21,"i",24),t.DNE(22,V,2,0,"span",8)(23,U,2,0,"span",8),t.k0s()()()()}if(2&e){let n,o,i,c;const r=t.XpG();t.R7$(),t.Y8G("formGroup",r.estadoCivilForm),t.R7$(6),t.AVh("invalid",(null==(n=r.estadoCivilForm.get("name"))?null:n.invalid)&&(null==(n=r.estadoCivilForm.get("name"))?null:n.touched)),t.R7$(),t.Y8G("ngIf",(null==(o=r.estadoCivilForm.get("name"))?null:o.invalid)&&(null==(o=r.estadoCivilForm.get("name"))?null:o.touched)),t.R7$(4),t.AVh("invalid",(null==(i=r.estadoCivilForm.get("description"))?null:i.invalid)&&(null==(i=r.estadoCivilForm.get("description"))?null:i.touched)),t.R7$(),t.Y8G("ngIf",(null==(c=r.estadoCivilForm.get("description"))?null:c.invalid)&&(null==(c=r.estadoCivilForm.get("description"))?null:c.touched)),t.R7$(),t.Y8G("ngIf",r.error),t.R7$(),t.Y8G("ngIf",r.successMessage),t.R7$(5),t.Y8G("disabled",r.submitting||r.estadoCivilForm.invalid),t.R7$(2),t.Y8G("ngIf",!r.submitting),t.R7$(),t.Y8G("ngIf",r.submitting)}}const A=[{path:"",component:(()=>{class e{constructor(n,o){this.estadoCivilService=n,this.router=o,this.estadosCiviles=[],this.loading=!0,this.error=null}ngOnInit(){this.cargarEstadosCiviles()}cargarEstadosCiviles(){this.loading=!0,this.estadoCivilService.getEstadosCiviles().subscribe({next:n=>{this.estadosCiviles=n,this.loading=!1},error:n=>{console.error("Error al cargar estados civiles",n),this.error="No se pudieron cargar los estados civiles. Por favor intente nuevamente.",this.loading=!1}})}nuevoEstadoCivil(){this.router.navigate(["/dashboard/admin/configuracion/estado-civil/nuevo"])}editarEstadoCivil(n){this.router.navigate([`/dashboard/admin/configuracion/estado-civil/editar/${n}`])}eliminarEstadoCivil(n){confirm("\xbfEst\xe1 seguro de que desea eliminar este estado civil?")&&this.estadoCivilService.deleteEstadoCivil(n).subscribe({next:()=>{this.estadosCiviles=this.estadosCiviles.filter(o=>o.id!==n)},error:o=>{console.error("Error al eliminar estado civil",o),alert("No se pudo eliminar el estado civil. Por favor intente nuevamente.")}})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g),t.rXU(d.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-lista-estado-civil"]],decls:18,vars:3,consts:[["noData",""],[1,"estado-civil-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion",1,"btn-secondary","mr-2"],[1,"fas","fa-arrow-left"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],["class","loading",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],["class","data-table",4,"ngIf","ngIfElse"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"btn-group"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"no-data"],[1,"btn-secondary",3,"click"]],template:function(o,i){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),t.EFF(4,"Estados Civiles"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Administraci\xf3n de estados civiles"),t.k0s()(),t.j41(7,"div",4)(8,"button",5),t.nrm(9,"i",6),t.EFF(10," Volver a Configuraci\xf3n "),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return i.nuevoEstadoCivil()}),t.nrm(12,"i",8),t.EFF(13," Nuevo Estado Civil "),t.k0s()()(),t.j41(14,"div",9),t.DNE(15,f,3,0,"div",10)(16,v,4,1,"div",11)(17,x,4,2,"div",12),t.k0s()()),2&o&&(t.R7$(15),t.Y8G("ngIf",i.loading),t.R7$(),t.Y8G("ngIf",i.error),t.R7$(),t.Y8G("ngIf",!i.loading&&!i.error))},dependencies:[p.Sq,p.bT,d.Wk],styles:[".estado-civil-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-right:10px}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:25px}.card[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:20px 0;color:#64748b}.card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;padding:30px 0;color:#64748b}.card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#334155;background-color:#f8fafc}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#475569}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background-color:#3b82f6;color:#fff;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background-color:#e2e8f0;color:#475569;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:background-color .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}.btn-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;border-radius:4px}.btn-group[_ngcontent-%COMP%]{display:inline-flex;gap:5px;cursor:pointer;transition:background-color .2s}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#3b82f6;border:1px solid #3b82f6}.btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff}.btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{color:#ef4444;border:1px solid #ef4444}.btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}.btn-group.btn-edit[_ngcontent-%COMP%]{background-color:#e9f2ff;color:#3b82f6}.btn-group.btn-edit[_ngcontent-%COMP%]:hover{background-color:#dceafe}.btn-group.btn-delete[_ngcontent-%COMP%]{background-color:#fee2e2;color:#ef4444}.btn-group.btn-delete[_ngcontent-%COMP%]:hover{background-color:#fecaca}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c}.alert.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}"]})}}return e})()},{path:"nuevo",component:(()=>{class e{constructor(n,o,i){this.fb=n,this.estadoCivilService=o,this.router=i,this.submitting=!1,this.error=null,this.successMessage=null,this.formSubmitted=!1,this.estadoCivilForm=this.fb.group({name:["",[s.k0.required,s.k0.maxLength(50)]],description:["",s.k0.maxLength(255)]})}onSubmit(){this.estadoCivilForm.invalid?this.estadoCivilForm.markAllAsTouched():(this.submitting=!0,this.error=null,this.successMessage=null,this.estadoCivilService.createEstadoCivil(this.estadoCivilForm.value).subscribe({next:n=>{this.successMessage=`El estado civil "${n.name}" se ha creado correctamente`,this.submitting=!1,this.formSubmitted=!0},error:n=>{console.error("Error al crear estado civil",n),this.error="No se pudo crear el estado civil. Por favor intente nuevamente.",this.submitting=!1}}))}cancelar(){this.router.navigate(["/dashboard/admin/configuracion/estado-civil"])}volverALista(){this.router.navigate(["/dashboard/admin/configuracion/estado-civil"])}crearNuevo(){this.formSubmitted=!1,this.successMessage=null,this.error=null,this.estadoCivilForm.reset()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(s.ok),t.rXU(g),t.rXU(d.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-nuevo-estado-civil"]],decls:14,vars:2,consts:[[1,"estado-civil-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/estado-civil",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","success-container",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"success-container"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"action-buttons"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn-primary",3,"click"],[1,"fas","fa-list"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del estado civil"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],["class","alert alert-error",4,"ngIf"],[1,"form-actions"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[4,"ngIf"],[1,"error-message"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t.EFF(4,"Nuevo Estado Civil"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Complete el formulario para crear un nuevo estado civil"),t.k0s()(),t.j41(7,"div",3)(8,"button",4),t.nrm(9,"i",5),t.EFF(10," Volver a Lista "),t.k0s()()(),t.j41(11,"div",6),t.DNE(12,O,12,1,"div",7)(13,N,22,11,"form",8),t.k0s()()),2&o&&(t.R7$(12),t.Y8G("ngIf",i.successMessage&&i.formSubmitted),t.R7$(),t.Y8G("ngIf",!i.formSubmitted))},dependencies:[p.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,d.Wk],styles:['@charset "UTF-8";.estado-civil-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:25px}.success-container[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.success-container[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857;border-left:4px solid #10b981;text-align:left;margin-bottom:30px}.success-container[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:8px;color:#334155}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px;color:#1e293b;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]{border-color:#ef4444}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:6px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c}.alert.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.alert.alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857}.alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#93c5fd;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}']})}}return e})()},{path:"editar/:id",component:(()=>{class e{constructor(n,o,i,c){this.fb=n,this.estadoCivilService=o,this.router=i,this.route=c,this.submitting=!1,this.loading=!0,this.error=null,this.successMessage=null,this.estadoCivilId=+this.route.snapshot.paramMap.get("id"),this.estadoCivilForm=this.fb.group({name:["",[s.k0.required,s.k0.maxLength(50)]],description:["",s.k0.maxLength(255)]})}ngOnInit(){this.cargarEstadoCivil()}cargarEstadoCivil(){this.loading=!0,this.estadoCivilService.getEstadoCivil(this.estadoCivilId).subscribe({next:n=>{this.estadoCivilForm.patchValue({name:n.name,description:n.description||""}),this.loading=!1},error:n=>{console.error("Error al cargar estado civil",n),this.error="No se pudo cargar la informaci\xf3n del estado civil. Por favor intente nuevamente.",this.loading=!1}})}onSubmit(){this.estadoCivilForm.invalid?this.estadoCivilForm.markAllAsTouched():(this.submitting=!0,this.error=null,this.estadoCivilService.updateEstadoCivil(this.estadoCivilId,this.estadoCivilForm.value).subscribe({next:n=>{this.successMessage=`El estado civil "${n.name}" se ha actualizado correctamente`,this.submitting=!1,setTimeout(()=>{this.volverALista()},2e3)},error:n=>{console.error("Error al actualizar estado civil",n),this.error="No se pudo actualizar el estado civil. Por favor intente nuevamente.",this.submitting=!1}}))}cancelar(){this.volverALista()}volverALista(){this.router.navigate(["/dashboard/admin/configuracion/estado-civil"])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(s.ok),t.rXU(g),t.rXU(d.Ix),t.rXU(d.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-editar-estado-civil"]],decls:14,vars:2,consts:[[1,"estado-civil-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/estado-civil",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del estado civil"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[1,"error-message"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t.EFF(4,"Editar Estado Civil"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Modifique la informaci\xf3n del estado civil"),t.k0s()(),t.j41(7,"div",3)(8,"button",4),t.nrm(9,"i",5),t.EFF(10," Volver a Lista "),t.k0s()()(),t.j41(11,"div",6),t.DNE(12,$,3,0,"div",7)(13,z,24,12,"div",8),t.k0s()()),2&o&&(t.R7$(12),t.Y8G("ngIf",i.loading),t.R7$(),t.Y8G("ngIf",!i.loading))},dependencies:[p.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,d.Wk],styles:[".estado-civil-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:25px}.card[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:20px 0;color:#64748b}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:8px;color:#334155}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px;color:#1e293b;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]{border-color:#ef4444}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:6px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c}.alert.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.alert.alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857}.alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#93c5fd;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}"]})}}return e})()}];let B=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.MD,s.X1,d.iI.forChild(A)]})}}return e})()}}]);