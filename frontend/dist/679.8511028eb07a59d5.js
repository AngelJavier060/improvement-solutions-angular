"use strict";(self.webpackChunkimprovement_solutions=self.webpackChunkimprovement_solutions||[]).push([[679],{4679:(B,u,l)=>{l.r(u),l.d(u,{GeneroModule:()=>A});var d=l(177),g=l(7681),c=l(4341),n=l(4438),p=l(5460);const m=t=>["editar",t];function f(t,a){1&t&&(n.j41(0,"div",12),n.nrm(1,"i",13),n.j41(2,"span"),n.EFF(3,"Cargando g\xe9neros..."),n.k0s()())}function _(t,a){if(1&t){const e=n.RV6();n.j41(0,"div",14),n.nrm(1,"i",15),n.j41(2,"span"),n.EFF(3),n.k0s(),n.j41(4,"button",16),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.cargarGeneros())}),n.nrm(5,"i",17),n.EFF(6," Reintentar "),n.k0s()()}if(2&t){const e=n.XpG();n.R7$(3),n.JRh(e.error)}}function b(t,a){if(1&t){const e=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td",3)(8,"div",23)(9,"button",24),n.nrm(10,"i",25),n.k0s(),n.j41(11,"button",26),n.bIt("click",function(){const r=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.eliminarGenero(r.id))}),n.nrm(12,"i",27),n.k0s()()()()}if(2&t){const e=a.$implicit;n.R7$(2),n.JRh(e.id),n.R7$(2),n.JRh(e.name),n.R7$(2),n.JRh(e.description||"-"),n.R7$(3),n.Y8G("routerLink",n.eq3(4,m,e.id))}}function C(t,a){1&t&&(n.j41(0,"tr")(1,"td",28),n.nrm(2,"i",29),n.j41(3,"span"),n.EFF(4,"No hay g\xe9neros registrados"),n.k0s()()())}function x(t,a){if(1&t&&(n.j41(0,"table",18)(1,"thead")(2,"tr")(3,"th",19),n.EFF(4,"ID"),n.k0s(),n.j41(5,"th"),n.EFF(6,"Nombre"),n.k0s(),n.j41(7,"th"),n.EFF(8,"Descripci\xf3n"),n.k0s(),n.j41(9,"th",20),n.EFF(10,"Acciones"),n.k0s()()(),n.j41(11,"tbody"),n.DNE(12,b,13,6,"tr",21)(13,C,5,0,"tr",22),n.k0s()()),2&t){const e=n.XpG();n.R7$(12),n.Y8G("ngForOf",e.generos),n.R7$(),n.Y8G("ngIf",0===e.generos.length)}}function M(t,a){if(1&t){const e=n.RV6();n.j41(0,"div",9)(1,"div",10),n.nrm(2,"i",11),n.j41(3,"span"),n.EFF(4),n.k0s()(),n.j41(5,"div",12)(6,"button",13),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.crearNuevo())}),n.nrm(7,"i",14),n.EFF(8," Crear nuevo g\xe9nero "),n.k0s(),n.j41(9,"button",15),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.volverALista())}),n.nrm(10,"i",16),n.EFF(11," Volver a la lista "),n.k0s()()()}if(2&t){const e=n.XpG();n.R7$(4),n.JRh(e.successMessage)}}function P(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"El nombre es obligatorio."),n.k0s())}function O(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"El nombre no puede exceder de 50 caracteres."),n.k0s())}function v(t,a){if(1&t&&(n.j41(0,"div",31),n.DNE(1,P,2,0,"span",30)(2,O,2,0,"span",30),n.k0s()),2&t){let e,o;const r=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(e=r.generoForm.get("name"))||null==e.errors?null:e.errors.required),n.R7$(),n.Y8G("ngIf",null==(o=r.generoForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function F(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),n.k0s())}function k(t,a){if(1&t&&(n.j41(0,"div",31),n.DNE(1,F,2,0,"span",30),n.k0s()),2&t){let e;const o=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(e=o.generoForm.get("description"))||null==e.errors?null:e.errors.maxlength)}}function G(t,a){if(1&t&&(n.j41(0,"div",32),n.nrm(1,"i",33),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&t){const e=n.XpG(2);n.R7$(3),n.JRh(e.error)}}function E(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Guardar"),n.k0s())}function j(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Guardando..."),n.k0s())}function y(t,a){if(1&t){const e=n.RV6();n.j41(0,"form",17),n.bIt("ngSubmit",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.onSubmit())}),n.j41(1,"div",18)(2,"label",19),n.EFF(3,"Nombre "),n.j41(4,"span",20),n.EFF(5,"*"),n.k0s()(),n.nrm(6,"input",21),n.DNE(7,v,3,2,"div",22),n.k0s(),n.j41(8,"div",18)(9,"label",23),n.EFF(10,"Descripci\xf3n"),n.k0s(),n.nrm(11,"textarea",24),n.DNE(12,k,2,1,"div",22),n.k0s(),n.DNE(13,G,4,1,"div",25),n.j41(14,"div",26)(15,"button",13),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.cancelar())}),n.nrm(16,"i",27),n.EFF(17," Cancelar "),n.k0s(),n.j41(18,"button",28),n.nrm(19,"i",29),n.DNE(20,E,2,0,"span",30)(21,j,2,0,"span",30),n.k0s()()()}if(2&t){let e,o,r,s;const i=n.XpG();n.Y8G("formGroup",i.generoForm),n.R7$(6),n.AVh("invalid",(null==(e=i.generoForm.get("name"))?null:e.invalid)&&(null==(e=i.generoForm.get("name"))?null:e.touched)),n.R7$(),n.Y8G("ngIf",(null==(o=i.generoForm.get("name"))?null:o.invalid)&&(null==(o=i.generoForm.get("name"))?null:o.touched)),n.R7$(4),n.AVh("invalid",(null==(r=i.generoForm.get("description"))?null:r.invalid)&&(null==(r=i.generoForm.get("description"))?null:r.touched)),n.R7$(),n.Y8G("ngIf",(null==(s=i.generoForm.get("description"))?null:s.invalid)&&(null==(s=i.generoForm.get("description"))?null:s.touched)),n.R7$(),n.Y8G("ngIf",i.error),n.R7$(5),n.Y8G("disabled",i.submitting||i.generoForm.invalid),n.R7$(2),n.Y8G("ngIf",!i.submitting),n.R7$(),n.Y8G("ngIf",i.submitting)}}function N(t,a){1&t&&(n.j41(0,"div",10),n.nrm(1,"i",11),n.j41(2,"span"),n.EFF(3,"Cargando datos del g\xe9nero..."),n.k0s()())}function R(t,a){if(1&t){const e=n.RV6();n.j41(0,"div",12),n.nrm(1,"i",13),n.j41(2,"span"),n.EFF(3),n.k0s(),n.j41(4,"button",14),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.cargarGenero())}),n.nrm(5,"i",15),n.EFF(6," Reintentar "),n.k0s()()}if(2&t){const e=n.XpG();n.R7$(3),n.JRh(e.error)}}function T(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"El nombre es obligatorio."),n.k0s())}function $(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"El nombre no puede exceder de 50 caracteres."),n.k0s())}function w(t,a){if(1&t&&(n.j41(0,"div",31),n.DNE(1,T,2,0,"span",30)(2,$,2,0,"span",30),n.k0s()),2&t){let e,o;const r=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(e=r.generoForm.get("name"))||null==e.errors?null:e.errors.required),n.R7$(),n.Y8G("ngIf",null==(o=r.generoForm.get("name"))||null==o.errors?null:o.errors.maxlength)}}function Y(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"La descripci\xf3n no puede exceder de 255 caracteres."),n.k0s())}function X(t,a){if(1&t&&(n.j41(0,"div",31),n.DNE(1,Y,2,0,"span",30),n.k0s()),2&t){let e;const o=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==(e=o.generoForm.get("description"))||null==e.errors?null:e.errors.maxlength)}}function V(t,a){if(1&t&&(n.j41(0,"div",32),n.nrm(1,"i",13),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&t){const e=n.XpG(2);n.R7$(3),n.JRh(e.error)}}function S(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Actualizar"),n.k0s())}function L(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Actualizando..."),n.k0s())}function D(t,a){if(1&t){const e=n.RV6();n.j41(0,"form",16),n.bIt("ngSubmit",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.onSubmit())}),n.j41(1,"div",17)(2,"label",18),n.EFF(3,"Nombre "),n.j41(4,"span",19),n.EFF(5,"*"),n.k0s()(),n.nrm(6,"input",20),n.DNE(7,w,3,2,"div",21),n.k0s(),n.j41(8,"div",17)(9,"label",22),n.EFF(10,"Descripci\xf3n"),n.k0s(),n.nrm(11,"textarea",23),n.DNE(12,X,2,1,"div",21),n.k0s(),n.DNE(13,V,4,1,"div",24),n.j41(14,"div",25)(15,"button",26),n.bIt("click",function(){n.eBV(e);const r=n.XpG();return n.Njj(r.cancelar())}),n.nrm(16,"i",27),n.EFF(17," Cancelar "),n.k0s(),n.j41(18,"button",28),n.nrm(19,"i",29),n.DNE(20,S,2,0,"span",30)(21,L,2,0,"span",30),n.k0s()()()}if(2&t){let e,o,r,s;const i=n.XpG();n.Y8G("formGroup",i.generoForm),n.R7$(6),n.AVh("invalid",(null==(e=i.generoForm.get("name"))?null:e.invalid)&&(null==(e=i.generoForm.get("name"))?null:e.touched)),n.R7$(),n.Y8G("ngIf",(null==(o=i.generoForm.get("name"))?null:o.invalid)&&(null==(o=i.generoForm.get("name"))?null:o.touched)),n.R7$(4),n.AVh("invalid",(null==(r=i.generoForm.get("description"))?null:r.invalid)&&(null==(r=i.generoForm.get("description"))?null:r.touched)),n.R7$(),n.Y8G("ngIf",(null==(s=i.generoForm.get("description"))?null:s.invalid)&&(null==(s=i.generoForm.get("description"))?null:s.touched)),n.R7$(),n.Y8G("ngIf",i.error&&!i.loading),n.R7$(5),n.Y8G("disabled",i.submitting||i.generoForm.invalid),n.R7$(2),n.Y8G("ngIf",!i.submitting),n.R7$(),n.Y8G("ngIf",i.submitting)}}const z=[{path:"",component:(()=>{class t{constructor(e){this.generoService=e,this.generos=[],this.loading=!1,this.error=null}ngOnInit(){this.cargarGeneros()}cargarGeneros(){this.loading=!0,this.error=null,this.generoService.getGeneros().subscribe({next:e=>{this.generos=e,this.loading=!1},error:e=>{console.error("Error al cargar g\xe9neros",e),this.error="No se pudieron cargar los g\xe9neros. Por favor intente nuevamente.",this.loading=!1}})}eliminarGenero(e){confirm("\xbfEst\xe1 seguro que desea eliminar este g\xe9nero?")&&this.generoService.deleteGenero(e).subscribe({next:()=>{this.cargarGeneros()},error:o=>{console.error("Error al eliminar g\xe9nero",o),alert("No se pudo eliminar el g\xe9nero. Por favor intente nuevamente.")}})}static{this.\u0275fac=function(o){return new(o||t)(n.rXU(p.M))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-lista-genero"]],decls:18,vars:3,consts:[[1,"genero-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion",1,"btn-secondary","mr-2"],[1,"fas","fa-arrow-left"],["routerLink","nuevo",1,"btn-primary"],[1,"fas","fa-plus"],[1,"card"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","data-table",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"error-state"],[1,"fas","fa-exclamation-circle"],[1,"btn-retry",3,"click"],[1,"fas","fa-sync"],[1,"data-table"],[1,"th-id"],[1,"th-actions"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn-group"],["title","Editar g\xe9nero",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"fas","fa-edit"],["title","Eliminar g\xe9nero",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["colspan","4",1,"no-data"],[1,"fas","fa-info-circle"]],template:function(o,r){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Gesti\xf3n de G\xe9neros"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Administre los tipos de g\xe9nero disponibles en el sistema"),n.k0s()(),n.j41(7,"div",3)(8,"button",4),n.nrm(9,"i",5),n.EFF(10," Volver a Configuraci\xf3n "),n.k0s(),n.j41(11,"button",6),n.nrm(12,"i",7),n.EFF(13," Nuevo G\xe9nero "),n.k0s()()(),n.j41(14,"div",8),n.DNE(15,f,4,0,"div",9)(16,_,7,1,"div",10)(17,x,14,2,"table",11),n.k0s()()),2&o&&(n.R7$(15),n.Y8G("ngIf",r.loading),n.R7$(),n.Y8G("ngIf",r.error),n.R7$(),n.Y8G("ngIf",!r.loading&&!r.error))},dependencies:[d.Sq,d.bT,g.Wk],styles:[".genero-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#64748b;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mr-2[_ngcontent-%COMP%]{margin-right:10px}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background-color:#3b82f6;color:#fff;font-weight:500;padding:10px 16px;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px}.loading-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#64748b}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444}.error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center;gap:6px;background-color:transparent;color:#3b82f6;font-weight:500;padding:6px 12px;border:1px solid #3b82f6;border-radius:4px;cursor:pointer;transition:all .2s}.error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background-color:#3b82f61a}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-size:14px;border-bottom:1px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;background-color:#f8fafc}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.data-table[_ngcontent-%COMP%]   .th-id[_ngcontent-%COMP%]{width:80px}.data-table[_ngcontent-%COMP%]   .th-actions[_ngcontent-%COMP%]{width:120px}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background-color:transparent;color:#64748b;border:none;padding:6px;border-radius:4px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.data-table[_ngcontent-%COMP%]   .btn-icon.btn-edit[_ngcontent-%COMP%]:hover{color:#0ea5e9}.data-table[_ngcontent-%COMP%]   .btn-icon.btn-delete[_ngcontent-%COMP%]:hover{color:#ef4444}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:inline-flex;gap:5px}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#3b82f6;border:1px solid #3b82f6}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#3b82f6;color:#fff}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{color:#ef4444;border:1px solid #ef4444}.data-table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#64748b;padding:40px}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:8px}@media screen and (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}.th-id[_ngcontent-%COMP%], .th-actions[_ngcontent-%COMP%]{width:auto}}"]})}}return t})()},{path:"nuevo",component:(()=>{class t{constructor(e,o,r){this.fb=e,this.generoService=o,this.router=r,this.submitting=!1,this.error=null,this.successMessage=null,this.formSubmitted=!1,this.generoForm=this.fb.group({name:["",[c.k0.required,c.k0.maxLength(50)]],description:["",c.k0.maxLength(255)]})}onSubmit(){this.generoForm.invalid?this.generoForm.markAllAsTouched():(this.submitting=!0,this.error=null,this.successMessage=null,this.generoService.createGenero(this.generoForm.value).subscribe({next:e=>{this.successMessage=`El g\xe9nero "${e.name}" se ha creado correctamente`,this.submitting=!1,this.formSubmitted=!0},error:e=>{console.error("Error al crear g\xe9nero",e),this.error="No se pudo crear el g\xe9nero. Por favor intente nuevamente.",this.submitting=!1}}))}cancelar(){this.router.navigate(["/dashboard/admin/configuracion/genero"])}volverALista(){this.router.navigate(["/dashboard/admin/configuracion/genero"])}crearNuevo(){this.formSubmitted=!1,this.successMessage=null,this.error=null,this.generoForm.reset()}static{this.\u0275fac=function(o){return new(o||t)(n.rXU(c.ok),n.rXU(p.M),n.rXU(g.Ix))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-nuevo-genero"]],decls:14,vars:2,consts:[[1,"genero-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/genero",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","success-container",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"success-container"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"action-buttons"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn-primary",3,"click"],[1,"fas","fa-list"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del g\xe9nero"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],["class","alert alert-error",4,"ngIf"],[1,"form-actions"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[4,"ngIf"],[1,"error-message"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"]],template:function(o,r){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Nuevo G\xe9nero"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Complete el formulario para crear un nuevo g\xe9nero"),n.k0s()(),n.j41(7,"div",3)(8,"button",4),n.nrm(9,"i",5),n.EFF(10," Volver a Lista "),n.k0s()()(),n.j41(11,"div",6),n.DNE(12,M,12,1,"div",7)(13,y,22,11,"form",8),n.k0s()()),2&o&&(n.R7$(12),n.Y8G("ngIf",r.successMessage&&r.formSubmitted),n.R7$(),n.Y8G("ngIf",!r.formSubmitted))},dependencies:[d.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,g.Wk],styles:['@charset "UTF-8";.genero-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:25px}.success-container[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.success-container[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857;border-left:4px solid #10b981;text-align:left;margin-bottom:30px}.success-container[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.success-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:8px;color:#334155}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px;color:#1e293b;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]{border-color:#ef4444}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea.invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:6px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c}.alert.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.alert.alert-success[_ngcontent-%COMP%]{background-color:#ecfdf5;color:#047857}.alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#93c5fd;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}']})}}return t})()},{path:"editar/:id",component:(()=>{class t{constructor(e,o,r,s){this.fb=e,this.generoService=o,this.router=r,this.route=s,this.submitting=!1,this.loading=!0,this.error=null,this.id=+this.route.snapshot.params.id,this.generoForm=this.fb.group({name:["",[c.k0.required,c.k0.maxLength(50)]],description:["",c.k0.maxLength(255)]})}ngOnInit(){this.cargarGenero()}cargarGenero(){this.loading=!0,this.error=null,this.generoService.getGenero(this.id).subscribe({next:e=>{this.generoForm.patchValue({name:e.name,description:e.description}),this.loading=!1},error:e=>{console.error("Error al cargar g\xe9nero",e),this.error="No se pudo cargar el g\xe9nero. Por favor intente nuevamente.",this.loading=!1}})}onSubmit(){if(this.generoForm.invalid)return void this.generoForm.markAllAsTouched();this.submitting=!0,this.error=null;const e={...this.generoForm.value};this.generoService.updateGenero(this.id,e).subscribe({next:()=>{this.submitting=!1,this.router.navigate(["/dashboard/admin/configuracion/genero"])},error:o=>{console.error("Error al actualizar g\xe9nero",o),this.error="No se pudo actualizar el g\xe9nero. Por favor intente nuevamente.",this.submitting=!1}})}cancelar(){this.router.navigate(["/dashboard/admin/configuracion/genero"])}static{this.\u0275fac=function(o){return new(o||t)(n.rXU(c.ok),n.rXU(p.M),n.rXU(g.Ix),n.rXU(g.nX))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-editar-genero"]],decls:15,vars:3,consts:[[1,"genero-container"],[1,"header"],[1,"title-section"],[1,"actions"],["routerLink","/dashboard/admin/configuracion/genero",1,"btn-secondary"],[1,"fas","fa-arrow-left"],[1,"card"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"error-state"],[1,"fas","fa-exclamation-circle"],[1,"btn-retry",3,"click"],[1,"fas","fa-sync"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Ingrese el nombre del g\xe9nero"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Ingrese una descripci\xf3n (opcional)","rows","3"],["class","alert alert-error",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-save"],[4,"ngIf"],[1,"error-message"],[1,"alert","alert-error"]],template:function(o,r){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Editar G\xe9nero"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Modifique los datos del g\xe9nero"),n.k0s()(),n.j41(7,"div",3)(8,"button",4),n.nrm(9,"i",5),n.EFF(10," Volver a Lista "),n.k0s()()(),n.j41(11,"div",6),n.DNE(12,N,4,0,"div",7)(13,R,7,1,"div",8)(14,D,22,11,"form",9),n.k0s()()),2&o&&(n.R7$(12),n.Y8G("ngIf",r.loading),n.R7$(),n.Y8G("ngIf",r.error&&r.loading),n.R7$(),n.Y8G("ngIf",!r.loading))},dependencies:[d.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,g.Wk],styles:[".genero-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 5px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:25px}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px}.loading-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#64748b}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444}.error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center;gap:6px;background-color:transparent;color:#3b82f6;font-weight:500;padding:6px 12px;border:1px solid #3b82f6;border-radius:4px;cursor:pointer;transition:all .2s}.error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background-color:#3b82f61a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:8px;color:#334155}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid #cbd5e1;border-radius:6px;font-size:14px;color:#1e293b;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border-color:#ef4444}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:6px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;color:#b91c1c}.alert.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#93c5fd;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}"]})}}return t})()}];let A=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[d.MD,c.X1,g.iI.forChild(z)]})}}return t})()}}]);